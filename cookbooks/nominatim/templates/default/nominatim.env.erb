# DO NOT EDIT - This file is being maintained by Chef

NOMINATIM_DATABASE_DSN="pgsql:dbname=<%= @dbname %>"
NOMINATIM_MAPICON_URL="https://<%= @base_url %>/ui/mapicons"

<% if @flatnode_file -%>
NOMINATIM_FLATNODE_FILE="<%= @flatnode_file %>"
<% end -%>

NOMINATIM_SERVE_LEGACY_URLS=yes
NOMINATIM_API_POOL_SIZE=<%= @pool_size %>
NOMINATIM_QUERY_TIMEOUT=<%= @query_timeout %>
NOMINATIM_REQUEST_TIMEOUT=<%= @request_timeout %>

NOMINATIM_IMPORT_STYLE=extratags

NOMINATIM_USE_US_TIGER_DATA=yes

<% if node.platform?("ubuntu") -%>
NOMINATIM_TOKENIZER="<%= @tokenizer %>"
NOMINATIM_UPDATE_FORWARD_DEPENDENCIES="<%= @forward_dependencies %>"

NOMINATIM_TABLESPACE_SEARCH_DATA=dsearch
NOMINATIM_TABLESPACE_SEARCH_INDEX=isearch
NOMINATIM_TABLESPACE_OSM_DATA=dosm
NOMINATIM_TABLESPACE_OSM_INDEX=iosm
NOMINATIM_TABLESPACE_PLACE_DATA=dplace
NOMINATIM_TABLESPACE_PLACE_INDEX=iplace
NOMINATIM_TABLESPACE_ADDRESS_DATA=daddress
NOMINATIM_TABLESPACE_ADDRESS_INDEX=iaddress
NOMINATIM_TABLESPACE_AUX_DATA=daux
NOMINATIM_TABLESPACE_AUX_INDEX=iaux
<% end -%>


NOMINATIM_LOG_FILE="<%= @log_file %>"
NOMINATIM_LOG_FORMAT='[{start}] {query_time:.4f} {results_total} {endpoint} "{query_string}" W{wait_time:.4f} r{search_rounds} f{search_first_result_round} b{search_best_penalty_round} m{search_min_penalty} p{search_min_result_penalty}'
